# REST LOGIN

* start from the up-to-date main branch (`git checkout main; git pull origin main`)
* Create a feature branch named 'js-rest-login' (`git checkout -b js-rest-login`)
* modify the files in this directory to have the require features
* add, commit, and push the branch to github
* Create a PR to merge to main
* Be sure to include the TA(s) and I as reviewers.  
* Due by 11:59pm (PT) Sun Oct 31

## Goals and Requirements

You will be writing a static HTML page that uses client-side JS fetch calls to REST-based services (that you also write) to allow login/logout.

Key features will be:
- The page is a static HTML page
- When the page loads, the client-side JS will make a fetch call to see if the user is already logged in.
  - If the user is logged in, they will see a logout form button
  - If the user is not logged in, they will see a login form
  - Hint: have your JS replace HTML contents to be the login form or logout form
    - OR have both in the HTML and add/remove a class to decide which is shown
    - Do NOT modify the `style` attribute of any elements
- Login/Logout will make a service call with fetch()
  - Do NOT perform a page load
  - These actions should adjust the page content to show the now-appropriate response
  - hint: Don't forget to set the content-type, or else the server will not be able to populate the request body using express.json()
- Login will show an error message to the user if the login fails
  - This should be based on the response from the service, but NOT the exact response from the service

## Implementation Requirements

- There should only be one single page load for the site
  - even if a user logs in, then logs out, then logs in again
- You should check the username for permissible values ("dog" should be rejected)
- Errors on failed login attempts should be shown to the user
- Errors should send error-codes from the service, but be shown as friendly messages to the user
- All service calls should follow the 3 RESTful rules given in class
- All service data in request/response bodies should be sent as JSON

## Structure
- This page will be served by a express server you write (a single static HTML page, static CSS, static client-side JS, and REST endpoints)
- There will be no HTML on the server or generated by server-side JS except for the single static HTML page  
- All other HTML will be built via the client-side JS
- All service endpoints will use RESTful URLs
- All service endpoints will use RESTful HTTP methods
- All service endpoints will use HTTP Status codes in a RESTful manner
- All services will return data in JSON (if they return data outside of status code)
- All services that return JSON data should have the `content-type` header of `application/json` (hint: res.json() does this for you)
- All server-side model logic should be in a separate file from your server file
- Manually reloading the page will refresh the page but show if the user is logged in or not
- Your code must be runnable with `npm install`, `node server.js`, then going to `http://localhost:3000/`

## Visuals
- Include enough space around items
- Have elements reasonably aligned

## Additional Requirements
- Follow the best practices described in class, in the code-review doc, and in the best-practices in the readings
- Use Semantic HTML as much as you can
- Make sure your .js file is clear and organized, not just a jumble of code
- Follow any suggestions previously given to you in code reviews
- Do NOT use localStorage, sessionStorage, IndexedDB, cookies, or other forms of client-side storage, except a cookie to hold a `sid` value
- Do NOT interact with the browser url, including hash fragment
- Do NOT include files in your PR that are outside the assignment (no IDE configs, `node_modules/`, etc)
* Do not use external JS other than express, cookie-parser, and uuid
* Do not use external CSS libraries
* You may not use floats to do more than manage flowing text with images
* You may not use HTML tables or CSS table layouts
* You may not use CSS preprocessors, minifiers, or other tools to modify your CSS
  * I and the TA(s) must be able to read it easily

